<!-- K. Laneri and A. B. Kolton 2020 -->

<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-171435841-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-171435841-1');
	</script>



	<!-- Responsive layouts -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
	/* {
	  box-sizing:border-box;
	}

	.left {
	  background-color:#2196F3;
	  padding:20px;
	  float:left;
	  width:20%; // The width is 20%, by default 
	}
	.right {
	  background-color:#4CAF50;
	  padding:20px;
	  float:left;
	  width:20%; // The width is 20%, by default 
	} 
	*/

	.main {
	  background-color:#f1f1f1;
	  padding:20px;
	  float:left;
	  width:60%; /* The width is 60%, by default */
	}

	/* Use a media query to add a break point at 800px: */
	@media screen and (max-width:800px) {
	  .left, .main, .right {
	    width:100%; /* The width is 100%, when the viewport is 800px or smaller */
	  }
	}
	</style>



	<style>
		div.scrollmenu {
		  background-color: #999;
		  overflow: auto;
		  white-space: nowrap;
		}

		div.scrollmenu a {
		  display: inline-block;
		  color: white;
		  text-align: center;
		  padding: 14px;
		  text-decoration: none;
		}

		div.scrollmenu a:hover {
		  background-color: #111;
		}
	</style>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>

</head>


<body>

<p>
<a href="./index.html">[Volver]</a>
Todos los gráficos mostrados aquí están hechos con
<a href="http://datos.salud.gob.ar/dataset/covid-19-casos-registrados-en-la-republica-argentina">Datos Públicos</a>.
La calidad de los indicadores depende fuertemente de la calidad de estos datos.
</p>


<div id='RioNegroDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
<div id='BuenosAiresDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
<p> La caída final de los casos diarios los últimos ~10 días es artificial, y debida 
a la carga demorada de casos </b>

<script>

hacerRioNegro();
hacerBuenosAires();


//////////////////////////////////////////
function hacerRioNegro(){
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaRioNegro.csv";
/*
	if(Poblaciones=="NuevosCasosConfirmadosPorDiaRioNegro.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaRioNegro.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaBuenosAires.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaBuenosAires.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaCABA.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaCABA.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaChaco.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaChaco.csv";
	
	if(Poblaciones=="NuevosCasosConfirmadosPorDiaCórdoba.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaCórdoba.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaJujuy.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaJujuy.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaNeuquén.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaNeuquén.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaSalta.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaSalta.csv";
*/
	function makeplot() {
	  Plotly.d3.csv(
	  file, function(data){ processData(data) } );
	};

	function processData(allRows) {

	  //console.log(allRows);
	  var fecha = [], RioNegro = [], Bariloche = [], Roca = [];

	  for (var i=0; i<allRows.length; i++) {
	    row = allRows[i];
	    fecha.push( row['fecha'] );
	    
	    RioNegro.push( row['Río Negro'] );
	    Bariloche.push( row['Bariloche'] );
	    Roca.push( row['General Roca'] );	    
	  }
	  makePlotly( fecha, RioNegro, Bariloche,Roca);
	}

	function makePlotly( fecha, RioNegro, Bariloche,Roca){
	  var plotDiv = document.getElementById("plot");
	  var traces = [
	  {
	    x: fecha,
	    y: RioNegro,
	    name: "Prov.de Río Negro",
	    mode: 'markers+lines',
	  },
	  {
	    x: fecha,
	    y: Bariloche,
	    name: "Dto. Bariloche",
	    mode: 'markers+lines',
	  },
	  {
	    x: fecha,
	    y: Roca,
	    name: "Dto. Gral. Roca",
	    mode: 'markers+lines',
	  },  
	  ];
	  
	  
	   var layout = {
		title: {
			text: "Provincia de Río Negro + algunos departamentos",
			x: 0,
		},
		autosize: true,
		xaxis: {title: 'Fecha de Inicio de Síntomas'},
		yaxis: {title: 'Casos Diarios (Sintomáticos)',type: 'log',autorange: 'true'},
		//showlegend: false,
		hovermode: "closest",
	    }

	    Plotly.newPlot('RioNegroDiv', traces,layout);
	};
	  makeplot();
}//RIO NEGRO


//////////////////////////////////////////
function hacerBuenosAires(){
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaBuenosAires.csv";
/*
	if(Poblaciones=="NuevosCasosConfirmadosPorDiaRioNegro.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaRioNegro.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaBuenosAires.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaBuenosAires.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaCABA.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaCABA.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaChaco.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaChaco.csv";
	
	if(Poblaciones=="NuevosCasosConfirmadosPorDiaCórdoba.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaCórdoba.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaJujuy.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaJujuy.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaNeuquén.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaNeuquén.csv";

	if(Poblaciones=="NuevosCasosConfirmadosPorDiaSalta.csv")
	file="https://raw.githubusercontent.com/droyktton/loscoihues/master/datos_crudos/NuevosCasosConfirmadosPorDiaSalta.csv";
*/
	function makeplot() {
	  Plotly.d3.csv(
	  file, function(data){ processData(data) } );
	};

	function processData(allRows) {

	  //console.log(allRows);
	  var fecha = [], BuenosAires = [], LaMatanza = [], 
	  Avellaneda = [], Lanus = [],LomasdeZamora = [], Quilmes = [], LaPlata = [];

	  for (var i=0; i<allRows.length; i++) {
	    row = allRows[i];
	    fecha.push( row['fecha'] );
	    
	    BuenosAires.push( row['Buenos Aires'] );
	    LaMatanza.push( row['La Matanza'] );
	    Avellaneda.push( row['Avellaneda'] );	    
	    Lanus.push( row['Lanús'] );	    
	    LomasdeZamora.push( row['Lomas de Zamora'] );	    
	    Quilmes.push( row['Quilmes'] );	    
	    LaPlata.push( row['La Plata'] );	    
	  }
	  makePlotly( fecha, BuenosAires, LaMatanza, 
	  Avellaneda, Lanus, LomasdeZamora, Quilmes, LaPlata);
	}

	function makePlotly( fecha, BuenosAires, LaMatanza, 
	  Avellaneda, Lanus, LomasdeZamora, Quilmes, LaPlata)
	{
	  var plotDiv = document.getElementById("plot");
	  var traces = [
	  {
	    x: fecha,
	    y: BuenosAires,
	    name: "Prov.de Buenos Aires",
	    mode: 'markers+lines',
	  },
	  {
	    x: fecha,
	    y: LaMatanza,
	    name: "Dto. La Matanza",
	    mode: 'markers+lines',
	  },
	  {
	    x: fecha,
	    y: Avellaneda,
	    name: "Dto. Avellaneda",
	    mode: 'markers+lines',
	  },  
	  {
	    x: fecha,
	    y: Lanus,
	    name: "Dto. Lanús",
	    mode: 'markers+lines',
	  },  
	  {
	    x: fecha,
	    y: LomasdeZamora,
	    name: "Dto. Lomas de Zamora",
	    mode: 'markers+lines',
	  },  
	  {
	    x: fecha,
	    y: Quilmes,
	    name: "Dto. Quilmes",
	    mode: 'markers+lines',
	  },  
	  {
	    x: fecha,
	    y: LaPlata,
	    name: "Dto. La Plata",
	    mode: 'markers+lines',
	  },  
	  ];
	  
	  
	   var layout = {
		title: {
			text: "Provincia de Buenos Aires + algunos departamentos",
			x: 0,
		},
		autosize: true,
		xaxis: {title: 'Fecha de Inicio de Síntomas'},
		yaxis: {title: 'Casos Diarios (Sintomáticos)',type: 'log',autorange: 'true'},
		//showlegend: false,
		hovermode: "closest",
	    }

	    Plotly.newPlot('BuenosAiresDiv', traces,layout);
	};
	  makeplot();
}//Buenos Aires


</script>

</body>

